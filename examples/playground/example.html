
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Report</title>
        <style>
            body {
                font-family: Arial, sans-serif;
            }
            #container {
                width: 800px;
                margin: 20px auto;
                position: relative;
            }
            .branch {
                margin-left: 10px;
                cursor: pointer;
                position: relative;
                display: block;
            }
            .label {
                min-width: 120px;
                display: inline-block;
                vertical-align: middle;
                margin-right: 10px;
            }
            .expand-icon {
                display: inline-block;
                width: 20px;
                height: 20px;
                background-color: lightgray;
                color: black;
                text-align: center;
                vertical-align: middle;
                margin-right: 5px;
                border-radius: 50%;
                font-weight: bold;
            }
            .hidden {
                display: none;
            }
            .bar {
                height: 10px; /* Thinner bars */
                display: inline-block;
                vertical-align: middle;
                margin-left: 10px;
                width: 0; /* Bar width will be set dynamically */
            }
            .value {
                display: inline-block;
                vertical-align: middle;
                margin-right: 10px;
                min-width: 60px; /* Reserve space for the value */
                text-align: right;
            }
            .children {
                margin-left: 20px; /* Indent child elements */
                margin-top: 10px;
            }
            .bar-container {
                display: inline-block;
                min-width: 300px; /* Ensure all bars start from the same position */
                margin-left: 0px; /* Ensure bars start from the same horizontal position */
                vertical-align: middle;
            }
            #collapseButton {
                width: 120px;
                margin: 20px auto;
                padding: 10px;
                background-color: #D22B2B;
                color: white;
                text-align: center;
                cursor: pointer;
                border: none;
                border-radius: 5px;
                font-size: 16px;
            }
        </style>
        <script src="https://d3js.org/d3.v7.min.js"></script>
    </head>
    <body>
        <div id="container">
            <h1>Report</h1>
            <p>Click on an entry to expand into explanations or collapse the explanation.<br>All entries with the 
            same name are expanded simultaneously.</p>
            <button id="collapseButton">Collapse all</button>
            <div id="visualization"></div>
        </div>

        <script>
            const data = {
    "min": {
        "accuracy": {
            "value": 0.7984346224677716,
            "explain": {
                "Female": {
                    "value": 0.9153292750415053,
                    "explain": {
                        "samples": 5421.0,
                        "true": 459.0
                    }
                },
                "Male": {
                    "value": 0.7984346224677716,
                    "explain": {
                        "samples": 10860.0,
                        "true": 2189.0
                    }
                }
            }
        },
        "pr": {
            "value": 0.04925290536801328,
            "explain": {
                "Female": {
                    "value": 0.04925290536801328,
                    "explain": {
                        "samples": 5421.0,
                        "positives": 267.0
                    }
                },
                "Male": {
                    "value": 0.25810313075506447,
                    "explain": {
                        "samples": 10860.0,
                        "positives": 2803.0
                    }
                }
            }
        },
        "tpr": {
            "value": 0.33728813559322035,
            "explain": {
                "Female": {
                    "value": 0.33728813559322035,
                    "explain": {
                        "positives": 590.0,
                        "true_positives": 199.0,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 0.5942874692874693,
                    "explain": {
                        "positives": 3256.0,
                        "true_positives": 1935.0,
                        "samples": 10860.0
                    }
                }
            }
        },
        "tnr": {
            "value": 0.8858495528669121,
            "explain": {
                "Female": {
                    "value": 0.9859242392879322,
                    "explain": {
                        "negatives": 4831.0,
                        "true_negatives": 4763.0,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 0.8858495528669121,
                    "explain": {
                        "negatives": 7604.0,
                        "true_negatives": 6736.0,
                        "samples": 10860.0
                    }
                }
            }
        },
        "auc": {
            "value": 0.8614349488889204,
            "explain": {
                "Female": {
                    "value": 0.9088561163951738,
                    "explain": {
                        "curve": null,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 0.8614349488889204,
                    "explain": {
                        "curve": null,
                        "samples": 10860.0
                    }
                }
            }
        },
        "avgscore": {
            "value": 0.11023017696989586,
            "explain": {
                "Female": {
                    "value": 0.11023017696989586,
                    "explain": {
                        "samples": 5421.0,
                        "sum_scores": 597.5577893538054,
                        "curve": null
                    }
                },
                "Male": {
                    "value": 0.30384649781747625,
                    "explain": {
                        "samples": 10860.0,
                        "sum_scores": 3299.7729662977918,
                        "curve": null
                    }
                }
            }
        },
        "tophr": {
            "value": 0.88,
            "explain": {
                "Female": {
                    "value": 0.88,
                    "explain": {
                        "top": 50,
                        "true_top": 44.0,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 0.94,
                    "explain": {
                        "top": 50,
                        "true_top": 47.0,
                        "samples": 10860.0
                    }
                }
            }
        },
        "toprec": {
            "value": 0.014434889434889435,
            "explain": {
                "Female": {
                    "value": 0.07457627118644068,
                    "explain": {
                        "top": 50,
                        "true_top": 44.0,
                        "true_all": 590.0,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 0.014434889434889435,
                    "explain": {
                        "top": 50,
                        "true_top": 47.0,
                        "true_all": 3256.0,
                        "samples": 10860.0
                    }
                }
            }
        },
        "avghr": {
            "value": 0.8398837306873772,
            "explain": {
                "Female": {
                    "value": 0.8398837306873772,
                    "explain": {
                        "top": 50,
                        "curve": null,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 0.8426674907186243,
                    "explain": {
                        "top": 50,
                        "curve": null,
                        "samples": 10860.0
                    }
                }
            }
        },
        "avgrepr": {
            "value": 0.06565265381514034,
            "explain": {
                "Female": {
                    "value": 0.06565265381514034,
                    "explain": {
                        "top": 50,
                        "curve": null,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 1.466399352087304,
                    "explain": {
                        "top": 50,
                        "curve": null,
                        "samples": 10860.0
                    }
                }
            }
        }
    },
    "wmean": {
        "accuracy": {
            "value": 0.8373564277378539,
            "explain": {
                "Female": {
                    "value": 0.9153292750415053,
                    "explain": {
                        "samples": 5421.0,
                        "true": 459.0
                    }
                },
                "Male": {
                    "value": 0.7984346224677716,
                    "explain": {
                        "samples": 10860.0,
                        "true": 2189.0
                    }
                }
            }
        },
        "pr": {
            "value": 0.18856335605921012,
            "explain": {
                "Female": {
                    "value": 0.04925290536801328,
                    "explain": {
                        "samples": 5421.0,
                        "positives": 267.0
                    }
                },
                "Male": {
                    "value": 0.25810313075506447,
                    "explain": {
                        "samples": 10860.0,
                        "positives": 2803.0
                    }
                }
            }
        },
        "tpr": {
            "value": 0.5087157361042175,
            "explain": {
                "Female": {
                    "value": 0.33728813559322035,
                    "explain": {
                        "positives": 590.0,
                        "true_positives": 199.0,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 0.5942874692874693,
                    "explain": {
                        "positives": 3256.0,
                        "true_positives": 1935.0,
                        "samples": 10860.0
                    }
                }
            }
        },
        "tnr": {
            "value": 0.9191709013767303,
            "explain": {
                "Female": {
                    "value": 0.9859242392879322,
                    "explain": {
                        "negatives": 4831.0,
                        "true_negatives": 4763.0,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 0.8858495528669121,
                    "explain": {
                        "negatives": 7604.0,
                        "true_negatives": 6736.0,
                        "samples": 10860.0
                    }
                }
            }
        },
        "auc": {
            "value": 0.877224528709042,
            "explain": {
                "Female": {
                    "value": 0.9088561163951738,
                    "explain": {
                        "curve": null,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 0.8614349488889204,
                    "explain": {
                        "curve": null,
                        "samples": 10860.0
                    }
                }
            }
        },
        "avgscore": {
            "value": 0.23937907718516047,
            "explain": {
                "Female": {
                    "value": 0.11023017696989586,
                    "explain": {
                        "samples": 5421.0,
                        "sum_scores": 597.5577893538054,
                        "curve": null
                    }
                },
                "Male": {
                    "value": 0.30384649781747625,
                    "explain": {
                        "samples": 10860.0,
                        "sum_scores": 3299.7729662977918,
                        "curve": null
                    }
                }
            }
        },
        "tophr": {
            "value": 0.9200221116639028,
            "explain": {
                "Female": {
                    "value": 0.88,
                    "explain": {
                        "top": 50,
                        "true_top": 44.0,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 0.94,
                    "explain": {
                        "top": 50,
                        "true_top": 47.0,
                        "samples": 10860.0
                    }
                }
            }
        },
        "toprec": {
            "value": 0.034459852918407606,
            "explain": {
                "Female": {
                    "value": 0.07457627118644068,
                    "explain": {
                        "top": 50,
                        "true_top": 44.0,
                        "true_all": 590.0,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 0.014434889434889435,
                    "explain": {
                        "top": 50,
                        "true_top": 47.0,
                        "true_all": 3256.0,
                        "samples": 10860.0
                    }
                }
            }
        },
        "avghr": {
            "value": 0.8417405966009787,
            "explain": {
                "Female": {
                    "value": 0.8398837306873772,
                    "explain": {
                        "top": 50,
                        "curve": null,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 0.8426674907186243,
                    "explain": {
                        "top": 50,
                        "curve": null,
                        "samples": 10860.0
                    }
                }
            }
        },
        "avgrepr": {
            "value": 0.9999999999999999,
            "explain": {
                "Female": {
                    "value": 0.06565265381514034,
                    "explain": {
                        "top": 50,
                        "curve": null,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 1.466399352087304,
                    "explain": {
                        "top": 50,
                        "curve": null,
                        "samples": 10860.0
                    }
                }
            }
        }
    },
    "gini": {
        "accuracy": {
            "value": 0.03410465488963333,
            "explain": {
                "Female": {
                    "value": 0.9153292750415053,
                    "explain": {
                        "samples": 5421.0,
                        "true": 459.0
                    }
                },
                "Male": {
                    "value": 0.7984346224677716,
                    "explain": {
                        "samples": 10860.0,
                        "true": 2189.0
                    }
                }
            }
        },
        "pr": {
            "value": 0.3397529263154265,
            "explain": {
                "Female": {
                    "value": 0.04925290536801328,
                    "explain": {
                        "samples": 5421.0,
                        "positives": 267.0
                    }
                },
                "Male": {
                    "value": 0.25810313075506447,
                    "explain": {
                        "samples": 10860.0,
                        "positives": 2803.0
                    }
                }
            }
        },
        "tpr": {
            "value": 0.13793799040452753,
            "explain": {
                "Female": {
                    "value": 0.33728813559322035,
                    "explain": {
                        "positives": 590.0,
                        "true_positives": 199.0,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 0.5942874692874693,
                    "explain": {
                        "positives": 3256.0,
                        "true_positives": 1935.0,
                        "samples": 10860.0
                    }
                }
            }
        },
        "tnr": {
            "value": 0.02673258030443169,
            "explain": {
                "Female": {
                    "value": 0.9859242392879322,
                    "explain": {
                        "negatives": 4831.0,
                        "true_negatives": 4763.0,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 0.8858495528669121,
                    "explain": {
                        "negatives": 7604.0,
                        "true_negatives": 6736.0,
                        "samples": 10860.0
                    }
                }
            }
        },
        "auc": {
            "value": 0.013393607536126659,
            "explain": {
                "Female": {
                    "value": 0.9088561163951738,
                    "explain": {
                        "curve": null,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 0.8614349488889204,
                    "explain": {
                        "curve": null,
                        "samples": 10860.0
                    }
                }
            }
        },
        "avgscore": {
            "value": 0.23379283673368242,
            "explain": {
                "Female": {
                    "value": 0.11023017696989586,
                    "explain": {
                        "samples": 5421.0,
                        "sum_scores": 597.5577893538054,
                        "curve": null
                    }
                },
                "Male": {
                    "value": 0.30384649781747625,
                    "explain": {
                        "samples": 10860.0,
                        "sum_scores": 3299.7729662977918,
                        "curve": null
                    }
                }
            }
        },
        "tophr": {
            "value": 0.01648351648351647,
            "explain": {
                "Female": {
                    "value": 0.88,
                    "explain": {
                        "top": 50,
                        "true_top": 44.0,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 0.94,
                    "explain": {
                        "top": 50,
                        "true_top": 47.0,
                        "samples": 10860.0
                    }
                }
            }
        },
        "toprec": {
            "value": 0.33783056715440307,
            "explain": {
                "Female": {
                    "value": 0.07457627118644068,
                    "explain": {
                        "top": 50,
                        "true_top": 44.0,
                        "true_all": 590.0,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 0.014434889434889435,
                    "explain": {
                        "top": 50,
                        "true_top": 47.0,
                        "true_all": 3256.0,
                        "samples": 10860.0
                    }
                }
            }
        },
        "avghr": {
            "value": 0.0008272437700056845,
            "explain": {
                "Female": {
                    "value": 0.8398837306873772,
                    "explain": {
                        "top": 50,
                        "curve": null,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 0.8426674907186243,
                    "explain": {
                        "top": 50,
                        "curve": null,
                        "samples": 10860.0
                    }
                }
            }
        },
        "avgrepr": {
            "value": 0.4571472420242888,
            "explain": {
                "Female": {
                    "value": 0.06565265381514034,
                    "explain": {
                        "top": 50,
                        "curve": null,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 1.466399352087304,
                    "explain": {
                        "top": 50,
                        "curve": null,
                        "samples": 10860.0
                    }
                }
            }
        }
    },
    "minratio": {
        "accuracy": {
            "value": 0.8722922386936296,
            "explain": {
                "Female": {
                    "value": 0.9153292750415053,
                    "explain": {
                        "samples": 5421.0,
                        "true": 459.0
                    }
                },
                "Male": {
                    "value": 0.7984346224677716,
                    "explain": {
                        "samples": 10860.0,
                        "true": 2189.0
                    }
                }
            }
        },
        "pr": {
            "value": 0.1908264546188456,
            "explain": {
                "Female": {
                    "value": 0.04925290536801328,
                    "explain": {
                        "samples": 5421.0,
                        "positives": 267.0
                    }
                },
                "Male": {
                    "value": 0.25810313075506447,
                    "explain": {
                        "samples": 10860.0,
                        "positives": 2803.0
                    }
                }
            }
        },
        "tpr": {
            "value": 0.5675504751894188,
            "explain": {
                "Female": {
                    "value": 0.33728813559322035,
                    "explain": {
                        "positives": 590.0,
                        "true_positives": 199.0,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 0.5942874692874693,
                    "explain": {
                        "positives": 3256.0,
                        "true_positives": 1935.0,
                        "samples": 10860.0
                    }
                }
            }
        },
        "tnr": {
            "value": 0.8984965756666077,
            "explain": {
                "Female": {
                    "value": 0.9859242392879322,
                    "explain": {
                        "negatives": 4831.0,
                        "true_negatives": 4763.0,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 0.8858495528669121,
                    "explain": {
                        "negatives": 7604.0,
                        "true_negatives": 6736.0,
                        "samples": 10860.0
                    }
                }
            }
        },
        "auc": {
            "value": 0.9478232399487593,
            "explain": {
                "Female": {
                    "value": 0.9088561163951738,
                    "explain": {
                        "curve": null,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 0.8614349488889204,
                    "explain": {
                        "curve": null,
                        "samples": 10860.0
                    }
                }
            }
        },
        "avgscore": {
            "value": 0.36278245022298156,
            "explain": {
                "Female": {
                    "value": 0.11023017696989586,
                    "explain": {
                        "samples": 5421.0,
                        "sum_scores": 597.5577893538054,
                        "curve": null
                    }
                },
                "Male": {
                    "value": 0.30384649781747625,
                    "explain": {
                        "samples": 10860.0,
                        "sum_scores": 3299.7729662977918,
                        "curve": null
                    }
                }
            }
        },
        "tophr": {
            "value": 0.9361702127659575,
            "explain": {
                "Female": {
                    "value": 0.88,
                    "explain": {
                        "top": 50,
                        "true_top": 44.0,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 0.94,
                    "explain": {
                        "top": 50,
                        "true_top": 47.0,
                        "samples": 10860.0
                    }
                }
            }
        },
        "toprec": {
            "value": 0.1935587446951083,
            "explain": {
                "Female": {
                    "value": 0.07457627118644068,
                    "explain": {
                        "top": 50,
                        "true_top": 44.0,
                        "true_all": 590.0,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 0.014434889434889435,
                    "explain": {
                        "top": 50,
                        "true_top": 47.0,
                        "true_all": 3256.0,
                        "samples": 10860.0
                    }
                }
            }
        },
        "avghr": {
            "value": 0.996696490535225,
            "explain": {
                "Female": {
                    "value": 0.8398837306873772,
                    "explain": {
                        "top": 50,
                        "curve": null,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 0.8426674907186243,
                    "explain": {
                        "top": 50,
                        "curve": null,
                        "samples": 10860.0
                    }
                }
            }
        },
        "avgrepr": {
            "value": 0.04477133307627895,
            "explain": {
                "Female": {
                    "value": 0.06565265381514034,
                    "explain": {
                        "top": 50,
                        "curve": null,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 1.466399352087304,
                    "explain": {
                        "top": 50,
                        "curve": null,
                        "samples": 10860.0
                    }
                }
            }
        }
    },
    "maxdiff": {
        "accuracy": {
            "value": 0.11689465257373366,
            "explain": {
                "Female": {
                    "value": 0.9153292750415053,
                    "explain": {
                        "samples": 5421.0,
                        "true": 459.0
                    }
                },
                "Male": {
                    "value": 0.7984346224677716,
                    "explain": {
                        "samples": 10860.0,
                        "true": 2189.0
                    }
                }
            }
        },
        "pr": {
            "value": 0.2088502253870512,
            "explain": {
                "Female": {
                    "value": 0.04925290536801328,
                    "explain": {
                        "samples": 5421.0,
                        "positives": 267.0
                    }
                },
                "Male": {
                    "value": 0.25810313075506447,
                    "explain": {
                        "samples": 10860.0,
                        "positives": 2803.0
                    }
                }
            }
        },
        "tpr": {
            "value": 0.256999333694249,
            "explain": {
                "Female": {
                    "value": 0.33728813559322035,
                    "explain": {
                        "positives": 590.0,
                        "true_positives": 199.0,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 0.5942874692874693,
                    "explain": {
                        "positives": 3256.0,
                        "true_positives": 1935.0,
                        "samples": 10860.0
                    }
                }
            }
        },
        "tnr": {
            "value": 0.10007468642102002,
            "explain": {
                "Female": {
                    "value": 0.9859242392879322,
                    "explain": {
                        "negatives": 4831.0,
                        "true_negatives": 4763.0,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 0.8858495528669121,
                    "explain": {
                        "negatives": 7604.0,
                        "true_negatives": 6736.0,
                        "samples": 10860.0
                    }
                }
            }
        },
        "auc": {
            "value": 0.04742116750625347,
            "explain": {
                "Female": {
                    "value": 0.9088561163951738,
                    "explain": {
                        "curve": null,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 0.8614349488889204,
                    "explain": {
                        "curve": null,
                        "samples": 10860.0
                    }
                }
            }
        },
        "avgscore": {
            "value": 0.1936163208475804,
            "explain": {
                "Female": {
                    "value": 0.11023017696989586,
                    "explain": {
                        "samples": 5421.0,
                        "sum_scores": 597.5577893538054,
                        "curve": null
                    }
                },
                "Male": {
                    "value": 0.30384649781747625,
                    "explain": {
                        "samples": 10860.0,
                        "sum_scores": 3299.7729662977918,
                        "curve": null
                    }
                }
            }
        },
        "tophr": {
            "value": 0.05999999999999994,
            "explain": {
                "Female": {
                    "value": 0.88,
                    "explain": {
                        "top": 50,
                        "true_top": 44.0,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 0.94,
                    "explain": {
                        "top": 50,
                        "true_top": 47.0,
                        "samples": 10860.0
                    }
                }
            }
        },
        "toprec": {
            "value": 0.060141381751551246,
            "explain": {
                "Female": {
                    "value": 0.07457627118644068,
                    "explain": {
                        "top": 50,
                        "true_top": 44.0,
                        "true_all": 590.0,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 0.014434889434889435,
                    "explain": {
                        "top": 50,
                        "true_top": 47.0,
                        "true_all": 3256.0,
                        "samples": 10860.0
                    }
                }
            }
        },
        "avghr": {
            "value": 0.00278376003124714,
            "explain": {
                "Female": {
                    "value": 0.8398837306873772,
                    "explain": {
                        "top": 50,
                        "curve": null,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 0.8426674907186243,
                    "explain": {
                        "top": 50,
                        "curve": null,
                        "samples": 10860.0
                    }
                }
            }
        },
        "avgrepr": {
            "value": 1.4007466982721637,
            "explain": {
                "Female": {
                    "value": 0.06565265381514034,
                    "explain": {
                        "top": 50,
                        "curve": null,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 1.466399352087304,
                    "explain": {
                        "top": 50,
                        "curve": null,
                        "samples": 10860.0
                    }
                }
            }
        }
    },
    "maxbarea": {
        "accuracy": null,
        "pr": null,
        "tpr": null,
        "tnr": null,
        "auc": {
            "value": 0.047602531285052554,
            "explain": {
                "Female": {
                    "value": 0.9088561163951738,
                    "explain": {
                        "curve": null,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 0.8614349488889204,
                    "explain": {
                        "curve": null,
                        "samples": 10860.0
                    }
                }
            }
        },
        "avgscore": {
            "value": 0.6811749248813438,
            "explain": {
                "Female": {
                    "value": 0.11023017696989586,
                    "explain": {
                        "samples": 5421.0,
                        "sum_scores": 597.5577893538054,
                        "curve": null
                    }
                },
                "Male": {
                    "value": 0.30384649781747625,
                    "explain": {
                        "samples": 10860.0,
                        "sum_scores": 3299.7729662977918,
                        "curve": null
                    }
                }
            }
        },
        "tophr": null,
        "toprec": null,
        "avghr": {
            "value": 0.20118525185192038,
            "explain": {
                "Female": {
                    "value": 0.8398837306873772,
                    "explain": {
                        "top": 50,
                        "curve": null,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 0.8426674907186243,
                    "explain": {
                        "top": 50,
                        "curve": null,
                        "samples": 10860.0
                    }
                }
            }
        },
        "avgrepr": {
            "value": 1.400746698272164,
            "explain": {
                "Female": {
                    "value": 0.06565265381514034,
                    "explain": {
                        "top": 50,
                        "curve": null,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 1.466399352087304,
                    "explain": {
                        "top": 50,
                        "curve": null,
                        "samples": 10860.0
                    }
                }
            }
        }
    },
    "maxrarea": {
        "accuracy": null,
        "pr": null,
        "tpr": null,
        "tnr": null,
        "auc": {
            "value": 0.07083114319691494,
            "explain": {
                "Female": {
                    "value": 0.9088561163951738,
                    "explain": {
                        "curve": null,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 0.8614349488889204,
                    "explain": {
                        "curve": null,
                        "samples": 10860.0
                    }
                }
            }
        },
        "avgscore": {
            "value": 0.6289968811428195,
            "explain": {
                "Female": {
                    "value": 0.11023017696989586,
                    "explain": {
                        "samples": 5421.0,
                        "sum_scores": 597.5577893538054,
                        "curve": null
                    }
                },
                "Male": {
                    "value": 0.30384649781747625,
                    "explain": {
                        "samples": 10860.0,
                        "sum_scores": 3299.7729662977918,
                        "curve": null
                    }
                }
            }
        },
        "tophr": null,
        "toprec": null,
        "avghr": {
            "value": 0.21028588247080365,
            "explain": {
                "Female": {
                    "value": 0.8398837306873772,
                    "explain": {
                        "top": 50,
                        "curve": null,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 0.8426674907186243,
                    "explain": {
                        "top": 50,
                        "curve": null,
                        "samples": 10860.0
                    }
                }
            }
        },
        "avgrepr": {
            "value": 0.9538816220955074,
            "explain": {
                "Female": {
                    "value": 0.06565265381514034,
                    "explain": {
                        "top": 50,
                        "curve": null,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 1.466399352087304,
                    "explain": {
                        "top": 50,
                        "curve": null,
                        "samples": 10860.0
                    }
                }
            }
        }
    },
    "maxbdcg": {
        "accuracy": null,
        "pr": null,
        "tpr": null,
        "tnr": null,
        "auc": {
            "value": 0.05473918450966673,
            "explain": {
                "Female": {
                    "value": 0.9088561163951738,
                    "explain": {
                        "curve": null,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 0.8614349488889204,
                    "explain": {
                        "curve": null,
                        "samples": 10860.0
                    }
                }
            }
        },
        "avgscore": {
            "value": 0.7481398602434398,
            "explain": {
                "Female": {
                    "value": 0.11023017696989586,
                    "explain": {
                        "samples": 5421.0,
                        "sum_scores": 597.5577893538054,
                        "curve": null
                    }
                },
                "Male": {
                    "value": 0.30384649781747625,
                    "explain": {
                        "samples": 10860.0,
                        "sum_scores": 3299.7729662977918,
                        "curve": null
                    }
                }
            }
        },
        "tophr": null,
        "toprec": null,
        "avghr": {
            "value": 0.2591242207313785,
            "explain": {
                "Female": {
                    "value": 0.8398837306873772,
                    "explain": {
                        "top": 50,
                        "curve": null,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 0.8426674907186243,
                    "explain": {
                        "top": 50,
                        "curve": null,
                        "samples": 10860.0
                    }
                }
            }
        },
        "avgrepr": {
            "value": 1.427684297747653,
            "explain": {
                "Female": {
                    "value": 0.06565265381514034,
                    "explain": {
                        "top": 50,
                        "curve": null,
                        "samples": 5421.0
                    }
                },
                "Male": {
                    "value": 1.466399352087304,
                    "explain": {
                        "top": 50,
                        "curve": null,
                        "samples": 10860.0
                    }
                }
            }
        }
    }
};

            // Function to get color based on the level
            function getColor(level) {
                const colors = ['#1f77b4', '#ff7f0e', '#2ca02c', '#d62728', '#9467bd']; // Define colors for up to 5 levels
                return colors[level % colors.length];
            }

            function toggleAllLabels(labelText) {
                // Find all labels with the same text and toggle their associated children
                const labels = document.querySelectorAll('.label');
                labels.forEach(label => {
                    if (label.textContent === labelText) {
                        const parentDiv = label.parentElement;
                        const childrenDiv = parentDiv.querySelector('.children');
                        if (childrenDiv) {
                            childrenDiv.classList.toggle('hidden');
                            const icon = parentDiv.querySelector('.expand-icon');
                            if (icon) {
                                icon.innerHTML = childrenDiv.classList.contains('hidden') ? '&#8250;' : '-';
                            }
                        }
                    }
                });
            }

            function createVisualization(data, container, expand=true, level=0) {
                if (typeof data === 'number') {
                    // If the data is a single number, treat it as a root-level value
                    const div = document.createElement('div');
                    div.className = 'branch';

                    const valueToDisplay = data > 1 ? Math.round(data) : data.toFixed(3);

                    // Create value display
                    const valueDiv = document.createElement('div');
                    valueDiv.className = 'value';
                    valueDiv.textContent = valueToDisplay;
                    div.appendChild(valueDiv);

                    if (data <= 1) {
                        // Create bar for values <= 1
                        const barDiv = document.createElement('div');
                        barDiv.className = 'bar';
                        barDiv.style.width = (data * 100) + 'px';
                        barDiv.style.backgroundColor = getColor(level);

                        const barContainer = document.createElement('div');
                        barContainer.className = 'bar-container';
                        barContainer.appendChild(barDiv);
                        div.appendChild(barContainer);
                    }

                    container.appendChild(div);
                    return;
                }

                for (const [key, value] of Object.entries(data)) {
                    if (value === null) continue; // Skip null values

                    const div = document.createElement('div');
                    div.className = 'branch';

                    const labelDiv = document.createElement('div');
                    labelDiv.className = 'label';
                    labelDiv.textContent = key;
                    div.appendChild(labelDiv);

                    // Always display "samples" and "top" as integers without bars
                    if (typeof value === 'number') {
                        const valueDiv = document.createElement('div');
                        valueDiv.className = 'value';
                        valueDiv.textContent = Math.round(value);
                        div.appendChild(valueDiv);
                    } else if (value && typeof value === 'object' && value.hasOwnProperty('value')) {
                        const valueToDisplay = value.value > 1 ? Math.round(value.value) : value.value.toFixed(3);

                        // Create value display
                        const valueDiv = document.createElement('div');
                        valueDiv.className = 'value';
                        valueDiv.textContent = valueToDisplay;
                        div.appendChild(valueDiv);

                        if (value.value <= 1) {
                            // Create bar for values <= 1
                            const barDiv = document.createElement('div');
                            barDiv.className = 'bar';
                            barDiv.style.width = (value.value * 100) + 'px';
                            barDiv.style.backgroundColor = getColor(level);

                            const barContainer = document.createElement('div');
                            barContainer.className = 'bar-container';
                            barContainer.appendChild(barDiv);
                            div.appendChild(barContainer);
                        }

                        // Create the expandable "explain" section
                        if (value.hasOwnProperty('explain')) {
                            const expandIcon = document.createElement('div');
                            expandIcon.className = 'expand-icon';
                            expandIcon.innerHTML = '&#8250;';
                            div.insertBefore(expandIcon, labelDiv);

                            const explainDiv = document.createElement('div');
                            explainDiv.className = 'children hidden';
                            createVisualization(value.explain, explainDiv, false, level + 1);
                            div.appendChild(explainDiv);

                            expandIcon.onclick = labelDiv.onclick = function (e) {
                                e.stopPropagation(); // Prevent clicking from affecting parent elements
                                toggleAllLabels(key);
                            };
                        }
                    } else if (typeof value === 'object' && value !== null) {
                        // Handle other objects recursively
                        const expandIcon = document.createElement('div');
                        expandIcon.className = 'expand-icon';
                        expandIcon.innerHTML = '&#8250;';
                        div.insertBefore(expandIcon, labelDiv);

                        const childDiv = document.createElement('div');
                        childDiv.className = 'children hidden';
                        createVisualization(value, childDiv, expand, level + 1);
                        div.appendChild(childDiv);

                        expandIcon.onclick = labelDiv.onclick = function (e) {
                            e.stopPropagation(); // Prevent clicking from affecting parent elements
                            toggleAllLabels(key);
                        };
                    }

                    container.appendChild(div);

                    // Expand all levels by default until bars are shown
                    if (expand && !div.querySelector('.bar')) {
                        const childrenDiv = div.querySelector('.children');
                        if (childrenDiv) {
                            childrenDiv.classList.remove('hidden');
                            const icon = div.querySelector('.expand-icon');
                            if (icon) {
                                icon.innerHTML = '-';
                            }
                        }
                    }
                }
            }

            function collapseAll() {
                const childrenDivs = document.querySelectorAll('.children');
                childrenDivs.forEach(childrenDiv => {
                    childrenDiv.classList.add('hidden');
                    const parentDiv = childrenDiv.parentElement;
                    const icon = parentDiv.querySelector('.expand-icon');
                    if (icon) {
                        icon.innerHTML = '&#8250;';
                    }
                });
            }

            const container = document.getElementById('visualization');
            createVisualization(data, container);

            document.getElementById('collapseButton').onclick = collapseAll;
        </script>
    </body>
    </html>
    